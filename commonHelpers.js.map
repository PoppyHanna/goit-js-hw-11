{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\n\n\n// const pic = {\n//     formEl: document.querySelector('.search-form'),\n//     picEl: document.querySelector('.js-container'),\n// };\n\n\n// pic.formEl.addEventListener('submit', async (event) => {\n//     event.preventDefault();\n\n//     const foto = event.target.elements.query.value;\n    \n//     // searchFoto(foto).then(data => {\n//     //     renderFoto(data);\n//     // }).catch(error => {\n//     //     if (!delayInput.checkValidity() || !selectedStateInput){\n//     //     // console.error('Помилка під час пошуку зображень:', error);\n//     //     iziToast.error({\n//     //         title: 'Error',\n//     //         message: 'An error occurred while searching for images',\n//     //     });\n//     //         return\n//     //     };\n//     // });\n\n//     try {\n//         const data = await searchFoto(foto);\n//         renderFoto(data);\n//     }\n//     catch (error) {\n//         console.error('Помилка під час пошуку зображень:', error);\n//         iziToast.error({\n//             title: 'Error',\n//             message: 'An error occurred while searching for images',\n//          });\n//     }\n\n//     event.target.reset();\n// });\n\n// async function searchFoto (userValue) {\n//     const BASE_URL = 'https://pixabay.com';\n//     const END_POINT = '/api/';\n//     const PARAMS = new URLSearchParams({\n//         key: \"42342437-5c4c341e915bce4954251eee0\",\n//         q: `${ userValue }`,\n//         image_type: \"photo\",\n//         orientation: \"horizontal\",\n//         safesearch: true,\n//     });\n//     const url = BASE_URL + END_POINT + \"?\" + PARAMS;\n\n//     const response = await fetch(url);\n\n//         if (!response.ok) {\n//             throw new Error('Помилка HTTP: ' + response.status);\n//         }\n//         return response.json();\n    \n// }\n\n// // function renderFoto(data) {\n// //     // Реалізуйте логіку відображення зображень\n// // }\n\n\n\nexport function searchFoto(userValue) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = new URLSearchParams({\n        key: \"42342437-5c4c341e915bce4954251eee0\",\n        q: userValue,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    const url = BASE_URL + END_POINT + \"?\" + PARAMS;\n\n  return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Error fetching data: ' + response.status);\n            }\n            return response.json();\n        })\n        .catch(error => {\n            console.error('Error fetching data:', error);\n        });\n}\n","\n\n\n\n// function renderFoto(data) {\n//     const gallery = document.querySelector('.js-container');\n//     gallery.innerHTML = '';\n\n//     data.hits.forEach(image => {\n//         const imgElement = document.createElement('img');\n//         imgElement.src = image.webformatURL;\n//         imgElement.alt = image.tags;\n\n//         const link = document.createElement('a');\n//         link.href = image.largeImageURL;\n//         link.appendChild(imgElement);\n\n//         gallery.appendChild(link);\n//     });\n\n//     new SimpleLightbox('.js-container a');\n// }\n\n\nexport function renderFoto(data) {\n    const gallery = document.querySelector('.js-container');\n    const fragment = document.createDocumentFragment();\n\n    data.hits.forEach(image => {\n        const imgElement = document.createElement('img');\n        imgElement.src = image.webformatURL;\n        imgElement.alt = image.tags;\n        fragment.appendChild(imgElement);\n    });\n\n    gallery.appendChild(fragment);\n\n    // Initialize SimpleLightbox\n    const lightbox = new SimpleLightbox('.js-container img');\n    lightbox.refresh();\n}\n","import { searchFoto } from './js/pixabay-api.js';\nimport { renderFoto } from './js/render-functions.js';\n\n// Імпортуємо необхідний плагін\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.js-container');\nconst loader = document.querySelector('.loader');\n\n// form.addEventListener('submit', async function(event) {\n//     event.preventDefault();\n\n//     const query = document.getElementById('search-input').value;\n//     if (!query) return;\n\n//     loader.style.display = 'block';\n//     gallery.innerHTML = '';\n\n//     try {\n//         const data = await searchFoto(query);\n//         renderFoto(data);\n//     } catch (error) {\n//         console.error('Error fetching data:', error);\n//         iziToast.error({\n//             title: 'Error',\n//             message: 'An error occurred while searching for images',\n//         });\n//     }\n\n//     loader.style.display = 'none';\n// });\n\nform.addEventListener('submit', function(event) {\n    event.preventDefault();\n\n    const query = document.getElementById('search-input').value.trim();\n    if (!query) {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Please enter a search query',\n        });\n        return;\n    }\n\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n\n  searchFoto(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                renderFoto(data);\n            }\n        })\n        .catch(error => {\n            if (gallery.innerHTML === '') {\n                console.error('Error fetching data:', error);\n                iziToast.error({\n                    title: 'Error',\n                    message: 'An error occurred while searching for images',\n                });\n            }\n        })\n        .finally(() => {\n            loader.style.display = 'none';\n        });\n});"],"names":["searchFoto","userValue","BASE_URL","END_POINT","PARAMS","url","response","error","renderFoto","data","gallery","fragment","image","imgElement","form","loader","event","query","iziToast"],"mappings":"svBAsEO,SAASA,EAAWC,EAAW,CAClC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAMH,EAAWC,EAAY,IAAMC,EAE3C,OAAO,MAAMC,CAAG,EACT,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAA0BA,EAAS,MAAM,EAE7D,OAAOA,EAAS,MAC5B,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,CACvD,CAAS,CACT,CCpEO,SAASC,EAAWC,EAAM,CAC7B,MAAMC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAW,SAAS,yBAE1BF,EAAK,KAAK,QAAQG,GAAS,CACvB,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMD,EAAM,aACvBC,EAAW,IAAMD,EAAM,KACvBD,EAAS,YAAYE,CAAU,CACvC,CAAK,EAEDH,EAAQ,YAAYC,CAAQ,EAGX,IAAI,eAAe,mBAAmB,EAC9C,QAAO,CACpB,CC3BA,MAAMG,EAAO,SAAS,eAAe,aAAa,EAC5CJ,EAAU,SAAS,cAAc,eAAe,EAChDK,EAAS,SAAS,cAAc,SAAS,EAyB/CD,EAAK,iBAAiB,SAAU,SAASE,EAAO,CAC5CA,EAAM,eAAc,EAEpB,MAAMC,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAC5D,GAAI,CAACA,EAAO,CACRC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,6BACrB,CAAS,EACD,MACH,CAEDH,EAAO,MAAM,QAAU,QACvBL,EAAQ,UAAY,GAEtBV,EAAWiB,CAAK,EACT,KAAKR,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBS,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EAEDV,EAAWC,CAAI,CAE/B,CAAS,EACA,MAAMF,GAAS,CACRG,EAAQ,YAAc,KACtB,QAAQ,MAAM,uBAAwBH,CAAK,EAC3CW,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8CAC7B,CAAiB,EAEjB,CAAS,EACA,QAAQ,IAAM,CACXH,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAAC"}